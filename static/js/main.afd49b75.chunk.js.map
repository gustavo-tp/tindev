{"version":3,"sources":["services/api.js","pages/Login.js","pages/Main.js","routes.js","App.js","index.js","assets/logo.svg","assets/dislike.svg","assets/like.svg","assets/itsamatch.png"],"names":["api","axios","create","baseURL","Login","history","useState","username","setUsername","e","a","preventDefault","post","response","_id","data","push","className","onSubmit","src","logo","alt","placeholder","value","onChange","target","type","Main","match","users","setUsers","matchDev","setMatchDev","id","headers","user","params","filter","useEffect","get","loadUsers","io","query","on","dev","to","length","map","key","avatar","name","bio","onClick","handleDislike","dislike","handleLike","like","itsamatch","Routes","basename","path","exact","component","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.afd49b75.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: 'https://tindev-backend-gustavo-tp.herokuapp.com',\n});\n\nexport default api;\n","import React, { useState } from 'react';\nimport './Login.css';\n\nimport api from '../services/api';\n\nimport logo from '../assets/logo.svg';\n\nexport default function Login({ history }) {\n    const [username, setUsername] = useState('');\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n\n        const response = await api.post('/devs', {\n            username,\n        });\n\n        const { _id } = response.data;\n\n        history.push(`/dev/${_id}`);\n    }\n\n    return (\n        <div className=\"login-container\">\n            <form onSubmit={handleSubmit}>\n                <img src={logo} alt=\"Tindev\" />\n                <input\n                    placeholder=\"Digite seu usuÃ¡rio no Github\"\n                    value={username}\n                    onChange={e => setUsername(e.target.value)}\n                />\n                <button type=\"submit\">Enviar</button>\n            </form>\n        </div>\n    );\n}","import React, { useEffect, useState } from 'react';\nimport io from 'socket.io-client';\nimport { Link } from 'react-router-dom';\nimport './Main.css';\n\nimport api from '../services/api';\n\nimport logo from '../assets/logo.svg';\nimport dislike from '../assets/dislike.svg';\nimport like from '../assets/like.svg';\nimport itsamatch from '../assets/itsamatch.png';\n\nexport default function Main({ match }) {\n  const [users, setUsers] = useState([]);\n  const [matchDev, setMatchDev] = useState(null);\n\n  useEffect(() => {\n    async function loadUsers() {\n      const response = await api.get('/devs', {\n        headers: {\n          user: match.params.id,\n        },\n      });\n\n      setUsers(response.data);\n    }\n\n    loadUsers();\n  }, [match.params.id]);\n\n  useEffect(() => {\n    const socket = io('https://tindev-backend-gustavo-tp.herokuapp.com', {\n      query: { user: match.params.id },\n    });\n\n    socket.on('match', (dev) => {\n      setMatchDev(dev);\n    });\n  }, [match.params.id]);\n\n  async function handleDislike(id) {\n    await api.post(`/devs/${id}/dislikes`, null, {\n      headers: { user: match.params.id },\n    });\n\n    setUsers(users.filter((user) => user._id !== id));\n  }\n\n  async function handleLike(id) {\n    await api.post(`/devs/${id}/likes`, null, {\n      headers: { user: match.params.id },\n    });\n\n    setUsers(users.filter((user) => user._id !== id));\n  }\n\n  return (\n    <div className=\"main-container\">\n      <Link to=\"/\">\n        <img src={logo} alt=\"Tindev\" />\n      </Link>\n      {users.length > 0 ? (\n        <ul>\n          {users.map((user) => (\n            <li key={user._id}>\n              <img src={user.avatar} alt={user.name} />\n              <footer>\n                <strong>{user.name}</strong>\n                <p>{user.bio}</p>\n              </footer>\n\n              <div className=\"buttons\">\n                <button type=\"button\" onClick={() => handleDislike(user._id)}>\n                  <img src={dislike} alt=\"Dislike\" />\n                </button>\n                <button type=\"button\" onClick={() => handleLike(user._id)}>\n                  <img src={like} alt=\"Like\" />\n                </button>\n              </div>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <div className=\"empty\">Acabou :(</div>\n      )}\n\n      {matchDev && (\n        <div className=\"match-container\">\n          <img src={itsamatch} alt=\"It's a match\" />\n\n          <img className=\"avatar\" src={matchDev.avatar} alt=\"\" />\n          <strong>{matchDev.name}</strong>\n          <p>{matchDev.bio}</p>\n\n          <button type=\"button\" onClick={() => setMatchDev(null)}>\n            FECHAR\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\n\nimport Login from './pages/Login';\nimport Main from './pages/Main';\n\nexport default function Routes() {\n  return (\n    <BrowserRouter basename=\"tindev\">\n      <Route path=\"/\" exact component={Login} />\n      <Route path=\"/dev/:id\" component={Main} />\n    </BrowserRouter>\n  );\n}\n","import React from 'react';\nimport './App.css';\n\nimport Routes from './routes';\n\nfunction App() {\n  return (\n    <Routes />\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/logo.6a01ceef.svg\";","module.exports = __webpack_public_path__ + \"static/media/dislike.d4ec34e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.542059a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/itsamatch.21c10b26.png\";"],"sourceRoot":""}